Git — это система контроля версий. Именно этот инструмент поможет нам решить задачу сохранения разных версий кода для себя и переменчивых заказчиков.

Ключевые возможности системы управления версиями:
- ведёт истории всех изменений в виде отдельных версий кода;
- управляет этими записями: например, может менять последовательность версий, удалять определённые версии, возвращает к предыдущим состояниям кода;
- анализирует изменения: например, кто и когда их вносит, кто чаще работает с определённым файлом и так далее.

Перед тем как погрузиться в изучение git, важно познакомиться с другим ключевым инструментом в арсенале разработчиков и разработчиц — командной строкой. 

Для начала нужно научиться ориентироваться в командной строке. Для начала нам понадобится программа Терминал. 

    Вы можете найти его в списке приложений Finder > Программы > Утилиты > Терминал или же нажать Cmd+Space, затем ввести terminal. 
Запустите терминал!

Ниже будем приводить и постоянно дополнять основные команды для работы в Терминале:

- pwd - расшифровывается как Print Working Directory, служит для того, что бы узнать в какой папке ты сейчас находишься.

- ls - сокращение от list directory contents — «вывести список содержимого каталога». Если ввести эту команду и нажать Enter, вы увидите содержимое текущего каталога, его файлы и папки.

- cd - сокращение от change directory (сменить каталог). Синтаксис у команды такой: cd имя_папки, например:
    cd Desktop // * переходим на рабочий стол, если в названии папки есть пробел, нужно писать название с кавычками, например: cd "Рабочий стол" 
    что бы вернуться в предидущую папку (вверх), нужно ввести cd .. 

- mkdir - эта команда создает новую папку, синтаксис mkdir newfolder // * создает папку с названием newfolder

- touch - команда, которая создает новый файл, синтаксис touch newfile.txt // * создаёт файл с назанием newfile.txt

- mv - служит для измениния имени файла либо для переноса файла в другую папку через Терминал, синтаксис mw newfile.txt Newfile.txt
    mv Newfile.txt newfolder // * такая запись перенесет файл Newfile.txt в папку newfolder, если такая была создана в папке, где содержится файл Newfile.txt
    
- rm - от англ. remove, служит для удаления файлов и папок, синтаксис rm Newfile.txt удалит Newfile.txt,
    rmdir newfolder удалит папку, если такая существует, однако если папка не пуста, Терминал выдаст уведомление, что удалить такую папку невозможно. Если все таки, мы хотим удалить папку со всем содержимым используем команду rm -r newfolder // * -r при такой команде называют ключом команды rm
    
- echo - команда которая выводит все, что было введено в командную строку, синтаксис echo "Can you make some new files?" // * выведет текст Can you make some new files?
    если мы используем синтаксис echo "Can you make some new files?" >> Newfile.txt, такая команда добавит текст в сам текстовый файл.
    
- cat - такая команда виведет в консоль содержимое файла Newfile.txt, если такой существует

!!! Основы использования Git. !!!

- git --version // * Эта команда проверит, установлена ли программа git на ваш компьютер, если да – тогда напечатает версию в следующей строке: например, git version 2.38.1, версия может отличаться.

В некоторых версиях macOS система попробует установить git сразу после выполнения команды git --version, в некоторых же просто сообщит, что команда не найдена: command not found. В первом случае просто дождитесь окончания установки.
А если команда не найдена, то воспользуйтесь этой:

- xcode-select --install

!!! Настройка Git. !!!

1. git config --global user.name "Practicum"
# вводите своё имя или ник латиницей и в кавычках

git config --global user.email practicum@ya.ru
# здесь нужно ввести свой реальный e-mail
 
2. Выполните команду git config с опцией --list.
git config --list
# вывели в окно командной строки список всех свойств конфига

Некоторые терминалы могут не просто распечатать список, а показать его во встроенном в терминал режиме просмотра текста. Выйти из просмотра настроек гита можно по клавише Q, от английского quit – покинуть, выйти. 

!!!  ПРИМЕЧАНИЕ !!!
По умолчанию git в macOS не чувствителен к регистру: если Git запомнил название файла как practicum.txt, то изменение его на PRACTICUM.txt не будет расценено как изменение. Это вызывает неудобства в Xcode, ведь разработчикам и разработчицам достаточно часто может понадобиться изменять названия файлов проекта.
Чтобы научить git быть внимательным к регистру, можно перенастроить его такой командой:
git config --global core.ignorecase false 
Вы можете сделать это сейчас, чтобы Git точнее отслеживал изменения в названиях файлов.

!!! Создание репозитория !!!

«Репозиторий» — термин, который переводится с английского repository как «хранилище». Именно так программисты называют место, в котором хранятся все изменения проекта.
Хорошим тоном будет поддерживать порядок в файлах: иметь специальную папку для хранения своих проектов. Это поможет избежать беспорядка в файловой системе. 

1. Если у вас нет папки для проектов, создайте её из консоли.

- mkdir newfolder
- cd newfolder

2. И после этого давайте создадим папку с нашим проектом. Назовём его, например, first-project-git.

- mkdir first-project-git
- cd first-project-git

3. Теперь введите заветную команду, и обычная папка превратится в репозиторий:

- git init 

!!! «Разгитить» папку, если что-то пошло не так, — rm -rf .git !!!

Разберём подробнее, что такое -rf:
ключ -r (от англ. recursive — «рекурсивно») позволяет удалять папки вместе с их содержимым, с этим ключом мы уже знакомы;
ключ -f (от англ. force — «заставить») избавит вас от вопросов вроде «Вы точно хотите удалить этот файл? А этот? И этот тоже?».
Будьте осторожны: в подпапке .git хранится история изменений. Если удалить .git, то вся история проекта будет стёрта без возможности восстановления — останется только последняя версия файлов.


- git status // * Эта команда покажет актуальное состояние репозитория

- git add Newfile.txt // * Эта команда нужна, что бы Git понял, что этот файл нужен для сохранения в новой версии, вводим git add и затем через пробел название файлаю

!!! Вы также можете добавить несколько файлов и подготовить их к сохранению «разом» с помощью git add --all !!!

- git add . // * Такая команда добавит все содержимое папки в репозиторий.

!!! Создание коммитов !!!

- git commit -m "Мой первый коммит!" // * После выполнения команды текущая версия файлов будет сохранена в репозитории под версией "Мой первый коммит!". А в консоль выведется сообщение о добавленных изменениях.

После выполнения команды текущая версия файлов будет сохранена в репозитории под версией "Мой первый коммит!". А в консоль выведется сообщение о добавленных изменениях.
    В дальнейшем Вам следует описывать так, чтобы было понятно, какие именно изменения были сделаны. Например: «Добавлено важное дело в TODO», «Добавлена сортировка имён», «Исправлена ошибка в цикле» или «Добавлены заготовки рекламных блоков».


!!! Регистрация в GitHub !!!

Хостинг — сервис по размещению контента в интернете. Через хостинг вы можете делиться кодом с другими iOS-разработчиками и разработчицами. Профиль на GitHub точно      понадобится вам для самостоятельных работ и при трудоустройстве. Его можно назвать портфолио разработчика или разработчицы: работодатели часто просматривают    профиль в GitHub, чтобы оценить, насколько им подходит кандидат или кандидатка.

- Перейдите на сайт github.com и нажмите Sign Up.

- Введите свой email и нажмите Continue.

- Затем введите пароль: в нём должно быть 15 и больше символов — или 8, но с числами, строчными и прописными буквами.

- Готово. Теперь нужно придумать никнейм; выбирайте тщательно: возможно, в будущем вам придётся выступать на крупнейших конференциях и давать ссылку на ваш GitHub-профиль.

- При регистрации вас спросят, хотите ли вы получать продуктовые обновления и анонсы GitHub по email. Отметьте галочкой, если да, или пропустите. Также вас попросят решить головоломку, чтобы убедиться: вы не робот.

- Когда пройдёте капчу, смело жмите Create account! Чтобы завершить регистрацию, не забудьте ввести код, который вы получите на email.

GitHub – соцсеть, которую написали программисты для программистов. Мы любим защищать данные и проекты разными уровнями проверок. GitHub тоже ставит безопасность доступа к данным превыше всего, а потому использует безопасные протоколы обмена данными.
Когда вы регистрировали аккаунт, то использовали почту, никнейм и пароль — именно по ним GitHub предоставляет доступ к вашему аккаунту в браузере. В следующем уроке мы подключим локальный git-репозиторий к GitHub через терминал. И чтобы GitHub вас «узнавал», никнейма с паролем будет уже недостаточно — GitHub запросит для идентификации зашифрованный ключ, который называется SSH-ключом.

!!! Генерация SSH-ключа !!!

Откройте Terminal и введите команду:
- ssh-keygen -t ed25519 -C "<ВАШ EMAIL при регистрации в GitHub>"

Дальше команда предложит ввести путь до папки, где нужно сохранить ключ.
- Enter file in which to save the key (/Users/practicum/.ssh/id_ed25519)

Рекомендуем согласиться с предложенным вариантом — просто нажмите Enter.

Ввести парольную фразу для файла. Программа предлагает создавать ключ и без пароля; чтобы пропустить шаг, нажмите Enter. Если вводили на предыдущем шаге пароль — повторите его, если нет – ещё раз нажмите Enter.

Дальше выполните команду, которая добавит ключ SSH-агенту (программа, которая запоминает ваш приватный SSH-ключ и автоматически подставляет его при подключении к серверу через SSH) и сохранит его в связке ключей (Keychain):

- ssh-add --apple-use-keychain ~/.ssh/id_ed25519

Теперь скопируйте публичный ключ id_ed25519.pub в буфер обмена:

- pbcopy < ~/.ssh/id_ed25519.pub 

Отлично. Разберёмся, что с этим делать — давайте переходить дальше.

!!! Добавляем SSH-ключ в GitHub аккаунт !!!

- Зайдите на GitHub и перейдите в Settings (Настройки).

- В левом меню выберите SSH and GPG keys.

- Нажмите New SSH key или Add SSH key.

- В поле Title введите название ключа (например, название вашего компьютера).

- В поле Key вставьте ключ из буфера обмена горячими клавишами Cmd + V.

- Нажмите Add SSH key.

!!! Отлично! SSH-ключ настроен.

!!! Создание удаленного репозитория на GitHub !!!

Откройте терминал, найдите созданный гит-репозиторий  или создайте новый.

- cd ~/projects/first-project-git 

- Теперь откройте главную страницу github.com. Нажмите + рядом с иконкой профиля и выберите New repository.

- Перед вами появится форма с предварительными настройками проекта. Давайте разберёмся, из чего она состоит:

Owner — владелец репозитория. Поле уже заполнено, выбран ваш профиль. GitHub позволяет иметь несколько аккаунтов — это удобно, например, когда у вас есть личный аккаунт и корпоративный.
Repository Name — название репозитория. Так будет называться главная страничка проекта, когда репозиторий будет создан. Введите какое-нибудь название, например first-project-git. Комбинация из имени владельца и названия репозитория даст ему уникальный адрес; помните: если у вас уже есть репозиторий с таким названием, GitHub не даст создать дубликат.
Description — описание проекта. Его будут видеть пользователи; здесь обычно пишут краткое назначение проекта или технологии, на которых он написан (например, язык Swift). Наш учебный проект никакой пользы пока не несёт — оставим это поле пустым.
Public или Private — уровень доступа к репозиторию для других пользователей. Разница в том, сможет ли случайный пользователь найти ваш проект в поиске или нет. Предлагаем попробовать Private для этого проекта.
Секция настроек Initialize this repository with. GitHub предоставляет шаблоны для настройки свежего репозитория. Вы можете сразу создать репозиторий с файлами README, .gitignore и License – это три главных атрибута любого репозитория. У нас уже есть локальный репозиторий, поэтому мы не будем добавлять эти файлы автоматически.

- Заполните название репозитория, выберите доступ Private и нажмите Create repository.

Выше говорили о безопасном подключении — сейчас оно нам пригодится. Смените протокол подключения с HTTP на SSH:

Откройте терминал с выбранным до этого проектом и выполните инструкцию из GitHub:

- git remote add origin git@github.com:<ВАШ НИКНЕЙМ>/first-project-git.git // * Команду можно читать как «Git, добавь ссылку на удалённый репозиорий». 

Эта команда выполняется один раз при настройке репозитория. Дальше git уже «запомнит», где находится удалённая версия, и вы сможете отправлять и получать изменения между локальным репозиторием и удалённым.

- git push -u origin main // * эту команду можно читать как «Git, отправь мои изменения из локальной ветки main в главную ветку удалённого репозитория (origin) и установи её как основную для будущих использований команды push».

!!! Примечание !!! Команда git push — вторая основная команда после git commit. Вы будете использовать её каждый раз, когда захотите опубликовать свои изменения в удалённом репозитории.

После первого опубликованного коммита в ветку можно пользоваться короткой версией команды и писать просто git push.

!!! Клонирование репозитория !!!

- Откройте ваш проект в GitHub, нажмите зелёную кнопку Code и скопируйте SSH-адрес проекта.

- Вернитесь в терминал и введите команду git clone:

git clone git@github.com:<ВАШ НИКНЕЙМ>/first-project-git.git second-project-git

Теперь вы можете работать над этим же репозиторием, но условно из другого места. Точно так же вы можете действовать, если захотите поработать с другого компьютера.


Команда git pull выполняет две основные операции:

- git fetch, которая скачивает изменения с удалённого репозитория,

- git merge, которая объединяет эти изменения с вашей текущей рабочей версией.

С помощью команды git merge можно слить две ветки в одну.
Закомитьте изменения git add . && git commit -m "Добавить merge в README".
Чтобы отправить merge-request в удалённый репозиторий, ещё раз выполните команду push. Теперь необязательно переходить в ветку, чтобы запушить её:
git push -u origin merge-request

GitHub предоставляет удобный механизм, чтобы обсуждать новые изменения в ветках — Pull Request (англ. «запрос на изменения»; буквально: «запрос на подтягивание»). Обычно его так и называют – пулл-реквест, или сокращают до ПР или PR. 

!!! Делаем Pull Request !!!

- Чтобы создать пулл-реквест для любой существующей ветки в GitHub, перейдите на страницу репозитория и выберите вкладку Pull requests в верхней части экрана.

- Нажмите зелёную кнопку New pull request (англ. «новый запрос на изменения»).

- Выберите названия веток:  ветка «куда» (в которую пулл-реквест будет осуществлён) и ветка «откуда» (из которой будет идти пулл-реквест). В нашем случае изменения должны попасть из ветки merge-request в ветку main.

- В окне отобразятся добавленные коммиты и их изменения. Нажмите Create pull request.

- Заполните поля с названием и описанием пулл-реквеста. Нажмите Create pull request.

- Готово: пулл-реквест создан! Теперь вы или ваши коллеги могут перейти на вкладку Files changed (англ. «изменённые файлы»), чтобы оставить свои комментарии — провести ревью.

После ревью можно посмотреть комментарии и обсудить изменения на вкладке Conversations. Если вы захотите что-то добавить или исправить — можете в любой момент добавить дополнительные коммиты в ветку, они автоматически попадут в открытый пулл-реквест после пуша. Если вы работаете над задачей и исправляете её, обсудите детали с коллегами — тогда вы можете продолжать работать в одной ветке.


!!! Осталось только нажать Merge pull request (англ. «принять запрос на изменения»). Это объединит ветку с вашими изменениями и ветку main. 

